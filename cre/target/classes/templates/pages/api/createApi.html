<#include "/commonHead.html">
<link href="${ctx.contextPath}/static/css/api/createApi.css" rel="stylesheet" />
<div id="page">
    <div style="display:none;">
        <input id="folderId" value="${folderId!}" type="hidden"/>
    </div>
	<div id="pageHeader">
		<p>当前位置：<span id="title"></span></p>
	</div>
	<div id="pageBody">
		<div id="pageContent">
		<form id="insertForm" data-validator-option="{stopOnError:true}" >
            <div class="apiType container-fluid">
                <div class="row row-css">
                   <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
                                      接口名称：
                  </div>
                  <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
                     <input type="text" id="apiName" class="textL" data-rule="接口名称:required,length[1~64, true],filter;" />
                  </div>
               </div>
               <div class="row row-css">
                   <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
                                        接口描述：
                  </div>
                  <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
                     <input type="text" id="apiDesc" class="textL wth260" data-rule="接口描述:required,length[~255, true],filter;" />
                  </div>
               </div>
               <div class="row row-css">
                   <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
                                        记录日志：
                  </div>
                  <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
                    <div class="radio-inline">
					   <label>
					       <input type="radio" name="isLog" value="1"> 是
					   </label>
					</div>
					<div class="radio-inline">
					   <label>
					       <input type="radio" name="isLog" value="0" checked> 否
					   </label>
					</div>
                  </div>
               </div>
                <div class="row row-css">
	                <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
	                                    接口类型：
	                </div>
	                <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
	                   <div class="cm-select cm-mdSel" id="apiTypeSelect"></div>
	                </div>
	            </div>
            </div>
			<div class="apiParam container-fluid">
			   <!-- 接口参数：http类型参数html -start -->
			   <div class="apiparamdiv apitype-http">
			     <div class="row row-css">
			         <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
	                                    请求方式：
	                </div>
	                <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
	                   <div class="cm-select cm-mdSel" id="httpTypeSelect"></div>
	                </div>
	             </div>
	             <div class="row row-css">
                     <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
                        URL：
                    </div>
                    <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
                       <input type="text" id="url" class="textL wth260" data-rule="url:required,url;"/>
                    </div>
                 </div>

                   <!-- NEW -->
                   <div class="row row-css" id="createApi_returnValueDiv_new">
                       <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
                           返回值：
                       </div>
                       <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
                           <input id="createApi_returnValue_new" type="text" class="textL wth260"/>
                           <span class="butD" id="createApi_addReturnParam">选择参数</span>
                       </div>
                   </div>
                   <div class="row row-css">
                       <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
                           返回值类型：
                       </div>
                       <div id="createApi_returnTypeSelect_new" class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
                           <div class="radio-inline">
                               <label>
                                   <input disabled type="radio" name="returnValueType" value="0" checked> 无
                               </label>
                           </div>
                           <div class="radio-inline">
                               <label>
                                   <input disabled type="radio" name="returnValueType" value="1"> 基本类型
                               </label>
                           </div>
                           <div class="radio-inline">
                               <label>
                                   <input disabled type="radio" name="returnValueType" value="2"> 实体类型
                               </label>
                           </div>
                       </div>
                   </div>
                   <!-- NEW-END -->


                   <!-- OLD -->
<!--                 <div class="row row-css">-->
<!--                    <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">-->
<!--                                           返回值类型：-->
<!--                    </div>-->
<!--                    <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">-->
<!--                       <div class="radio-inline">-->
<!--	                       <label>-->
<!--	                           <input type="radio" name="returnValueType" value="0" checked> 无-->
<!--	                       </label>-->
<!--	                    </div>-->
<!--	                    <div class="radio-inline">-->
<!--	                       <label>-->
<!--	                           <input type="radio" name="returnValueType" value="1"> 基本类型-->
<!--	                       </label>-->
<!--	                    </div>-->
<!--	                    <div class="radio-inline">-->
<!--                           <label>-->
<!--                               <input type="radio" name="returnValueType" value="2"> 实体类型-->
<!--                           </label>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                 </div>-->
<!--                 <div class="row row-css" id="returnValueDiv">-->
<!--                     <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">-->
<!--                                        返回值：-->
<!--                    </div>-->
<!--                    <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">-->
<!--                       <div class="cm-select cm-mdSel" id="returnValueSelect"></div>-->
<!--                    </div>-->
<!--                 </div>-->
                   <!-- OLD-END -->



                 <div class="row row-css" id="returnValueFormatDiv">
                     <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
                                        返回值格式：
                    </div>
                    <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
                       <div class="cm-select cm-mdSel" id="returnValueFormatSelect"></div>
                    </div>
                 </div>
<!--                 <div class="row row-css">-->
<!--                 	<div class="commonLine">-->
<!--                 		<dl>-->
<!--		                 	<dt class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">-->
<!--		                           	参数：-->
<!--		                    </dt>-->
<!--		                    <dd>-->
<!--		                    	<input type="text" value="" placeholder="请输入参数" class="textL" data-rule="参数名:required,code,length[1~32],filter;" /><buttom class="butD removeLine">删除</buttom>-->
<!--		                    </dd>-->
<!--	                    </dl>-->
<!--	                    <div class="setBut">                  	-->
<!--	                    	<buttom class="butD addLine">添加</buttom>-->
<!--	                    </div>-->
<!--	                 </div>-->
<!--                 </div>-->

                   <!--接口参数展示表格-->
                   <#include "/pages/commonResource/paramsTable.html">
              </div>
              <!-- 接口参数：http类型参数html -end -->
              
              
              
              <!-- 接口参数：redis类型参数html -start -->
              <div class="apiparamdiv apitype-redis">
                <div class="row row-css">
                  <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
                      REDIS类型：
                  </div>
                  <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
                     <div class="cm-select cm-mdSel" id="redisTypeSelect"></div>
                  </div>
               </div>
               <!-- 单节点redis的参数-start -->
               <div class="redisdiv type-redis">
                   <div class="row row-css">
                      <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
                          REDIS IP：
                      </div>
                      <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
                         <input type="text" id="redisIp" class="textL" data-rule="REDIS IP:required,ip;"/>
                      </div>
                   </div>
                   <div class="row row-css">
                       <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
                          REDIS PORT：
                      </div>
                      <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
                         <input type="text" id="redisPort" class="textL" data-rule="REDIS端口:required,port;" />
                      </div>
                   </div>
                   <div class="row row-css">
                       <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
                          KEY PREFIX：
                      </div>
                      <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
                         <input type="text"  id="redisKey" class="textL" data-rule="KEY:required,code,length[1~32],filter;" />
                      </div>
                   </div>
                   <div class="row row-css">
                       <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
                          REDIS AUTH：
                      </div>
                      <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
                         <input type="password"  id="redisAuth" class="textL" data-rule="REDIS AUTH:required,length[1~32],filter;"/>
                      </div>
                   </div>
               </div>
               <!-- 单节点redis的参数-end -->
               <!-- 集群codis的参数-start -->
               <div class="redisdiv type-codis">
                   <div class="row row-css">
                      <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
                          ZK IP：
                      </div>
                      <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
                         <input type="text" id="zk" class="textL"  data-rule="CODIS IP:required,ip;"/>
                      </div>
                   </div>
                   <div class="row row-css">
                       <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
                          ZKADDR：
                      </div>
                      <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
                         <input type="text" id="zkAddr" class="textL" data-rule="ZKADDR:required;"/>
                      </div>
                   </div>
                   <div class="row row-css">
                       <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
                          KEY PREFIX：
                      </div>
                      <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
                         <input type="text" id="codisKey" class="textL" data-rule="KEY:required,code,length[1~32],filter;" />
                      </div>
                   </div>
                   <div class="row row-css">
                       <div class="txt-right col-xs-3 col-sm-2 col-md-2 col-lg-1">
                          CODIS AUTH：
                      </div>
                      <div class="col-xs-9 col-sm-10 col-md-10 col-lg-11">
                         <input type="password" id="codisAuth" class="textL" data-rule="CODIS AUTH:required,length[1~32],filter;"/>
                      </div>
                   </div>
               </div>
               <!-- 集群codis的参数-end -->
             </div>
             <!-- 接口参数：redis类型参数html -end -->
	      </div>
		  <div class="savediv container-fluid fr">
		      <button class="btn  btn-primary" type="button" onclick="savaBtn();">保存</button>
<!--		      <button class="btn cm-btnSec" type="button" onclick="cancleBtn();">取消</button>-->
		      <button class="btn btn-minor" type="button" onclick="cancleBtn();">取消</button>
		  </div>
		</form>
		</div>
	</div>
</div>

<!--添加接口参数/返回值弹框-->
<#include "/pages/commonResource/paramAdd.html">

<#include "/commonFoot.html">
<script src="${ctx.contextPath}/static/js/api/createApi.js"></script>
<script src="${ctx.contextPath}/static/js/commonResource/paramsTable.js"></script>
<script src="${ctx.contextPath}/static/js/commonResource/paramAdd.js"></script>
<script type="text/javascript">
    var baseVariableType = JSON.parse('${baseVariableType!}');
    var entityType = JSON.parse('${entityType!}');
    var baseVariable = JSON.parse('${baseVariable!}');
    var folderId = '${folderId!}';
    //设置标题
    var folderName = creCommon.getCookie('folderName');
    var title = folderName+">接口管理>新建接口";
    $("#title").text(title);
</script>
</body>
</html>