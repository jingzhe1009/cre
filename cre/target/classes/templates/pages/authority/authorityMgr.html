<!--权限管理内容   都是搜索框内容-->
<link href="${ctx.contextPath}/static/css/authority/authorityMgr.css" rel="stylesheet"/>

<div id="authorityMgr">
    <div id="authorityHeader">
        <div class="resourceTableIcon"><i class="icon icon-cog"> 选择角色进行赋权</i></div>
        <div class="selfAdaptionLeft">
            <div class="input-group">
                <select class="roleSelector form-control"></select>
            </div>
        </div>
        <div class="selfAdaptionRight">
            <button id="allAuthCheck" class="btn btn-primary checkAuth-update" all-check="-1" type="button">全权</button>
            <!--            <button id="saveAuthority" class="btn btn-primary checkAuth-update" type="button">保存</button>-->
        </div>
        <div style="clear:both;"></div>
    </div>
    <!--权限表单-->
    <div id="authorityMgrContent">

        <!--菜单权限管理-->
        <div class="panel authorityMgrEle">
            <div class="panel-heading">
                <span><i class="icon icon-list"> </i>菜单权限管理</span>
                <span grant-type="1" class="authorityMgrEle_saveButton checkAuth-update" type="button">
                    <i class="icon icon-save"> </i>保存
                </span>
            </div>
            <div class="panel-body">
                <table table-id="1" class="menuLevelTable" id="menuTable"></table>
            </div>
        </div>

        <!--数据源权限管理-->
        <div class="panel authorityMgrEle">
            <div class="panel-heading">
                <span><i class="icon icon-database"> </i>数据源权限管理</span>
                <span grant-type="8"
                      class="authorityMgrEle_saveButton checkAuth-update"
                      type="button">
                            <i class="icon icon-save"> </i>保存
                        </span>
            </div>
            <div class="panel-body">
                <div>
                    <div class="search_selfAdaptionLeft">
                        <div>
                            <div class="input-group">
                                <input data-col="dbAlias" type="text" class="form-control" placeholder="连接别名">
                            </div>
                            <div class="input-group">
                                <input data-col="dbType" type="text" class="form-control dbTypeInput"
                                       placeholder="数据源类型（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right dbTypeSelector">
                                    <li data-id="1"><a>MYSQL</a></li>
                                    <li data-id="2"><a>ORACLE</a></li>
                                    <li data-id="3"><a>SQLSERVER</a></li>
                                    <li data-id="4"><a>DB2</a></li>
                                    <li data-id="5"><a>HIVE</a></li>
                                    <li data-id="6"><a>HIVE2</a></li>
                                    <li data-id="7"><a>XCLOUD</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="search_selfAdaptionRight">
                        <button table-id="8" class="searchBtn btn btn-primary" type="button">搜索</button>
                    </div>
                </div>
                <table table-id="8" class="dataLevelTable" id="dataSourceTable"></table>
            </div>
        </div>

        <!--公共参数权限管理-->
        <div class="panel authorityMgrEle">
            <div class="panel-heading">
                <span><i class="icon icon-wrench"> </i>公共参数权限管理</span>
                <span grant-type="4"
                      class="authorityMgrEle_saveButton checkAuth-update"
                      type="button">
                    <i class="icon icon-save"> </i>保存
                </span>
            </div>
            <div class="panel-body">
                <div>
                    <div class="search_selfAdaptionLeft">
                        <div>
                            <div class="input-group">
                                <input data-col="variableGroupName" type="text" class="form-control"
                                       placeholder="参数组名称（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right paramGroupSelector"></ul>
                            </div>
                            <div class="input-group">
                                <input id="variableTypeIdInput" data-col="variableTypeId" type="text"
                                       class="form-control"
                                       placeholder="变量类型（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down"></i>
                                </label>
                                <ul class="dropdown-menu pull-right variableTypeSelector"></ul>
                            </div>
                            <div class="input-group">
                                <input data-col="variableAlias" type="text" class="form-control" placeholder="变量别名">
                            </div>
                        </div>
                    </div>
                    <div class="search_selfAdaptionRight">
                        <button table-id="4" class="searchBtn btn btn-primary" type="button">搜索</button>
                    </div>
                </div>
                <table table-id="4" class="dataLevelTable" id="paramTable"></table>
            </div>
        </div>

        <!--公共参数下参数组权限管理-->
        <div class="panel authorityMgrEle">
            <div class="panel-heading">
                <span><i class="icon icon-wrench"> </i>参数组权限管理</span>
                <span grant-type="12"
                      class="authorityMgrEle_saveButton checkAuth-update"
                      type="button">
                    <i class="icon icon-save"> </i>保存
                </span>
            </div>
            <div class="panel-body">
                <div>
                    <div class="search_selfAdaptionLeft">
                        <div>
                            <div class="input-group">
                                <input data-col="variableGroupName" type="text" class="form-control"
                                       placeholder="参数组名称（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right paramGroupSelector"></ul>
                            </div>
                        </div>
                    </div>
                    <div class="search_selfAdaptionRight">
                        <button table-id="12" class="searchBtn btn btn-primary" type="button">搜索</button>
                    </div>
                </div>
                <table table-id="12" class="dataLevelTable" id="paramGroupTable"></table>
            </div>
        </div>

        <!--公共接口权限管理-->
        <div class="panel authorityMgrEle">
            <div class="panel-heading">
                <span><i class="icon icon-link"> </i>公共接口权限管理</span>
                <span grant-type="5" class="authorityMgrEle_saveButton checkAuth-update"
                      type="button">
                            <i class="icon icon-save"> </i>保存
                        </span>
            </div>
            <div class="panel-body">
                <div>
                    <div class="search_selfAdaptionLeft">
                        <div>
                            <div class="input-group">
                                <input data-col="apiGroupName" type="text" class="form-control"
                                       placeholder="接口组名称（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right apiGroupSelector"></ul>
                            </div>
                            <div class="input-group">
                                <input data-col="apiName" type="text" class="form-control" placeholder="接口名称">
                            </div>
                        </div>
                    </div>
                    <div class="search_selfAdaptionRight">
                        <button table-id="5" class="searchBtn btn btn-primary" type="button">搜索</button>
                    </div>
                </div>
                <table table-id="5" class="dataLevelTable" id="apiTable"></table>
            </div>
        </div>

        <!--公共接口下接口组权限管理-->
        <div class="panel authorityMgrEle">
            <div class="panel-heading">
                <span><i class="icon icon-link"> </i>接口组权限管理</span>
                <span grant-type="13" class="authorityMgrEle_saveButton checkAuth-update"
                      type="button">
                            <i class="icon icon-save"> </i>保存
                        </span>
            </div>
            <div class="panel-body">
                <div>
                    <div class="search_selfAdaptionLeft">
                        <div>
                            <div class="input-group">
                                <input data-col="apiGroupName" type="text" class="form-control"
                                       placeholder="接口组名称（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right apiGroupSelector"></ul>
                            </div>
                        </div>
                    </div>
                    <div class="search_selfAdaptionRight">
                        <button table-id="13" class="searchBtn btn btn-primary" type="button">搜索</button>
                    </div>
                </div>
                <table table-id="13" class="dataLevelTable" id="apiGroupTable"></table>
            </div>
        </div>

        <!--指标权限管理-->
        <div class="panel authorityMgrEle">
            <div class="panel-heading">
                <span><i class="icon icon-cog"> </i>指标权限管理</span>
                <span grant-type="10" class="authorityMgrEle_saveButton checkAuth-update"
                      type="button">
                            <i class="icon icon-save"> </i>保存
                        </span>
            </div>
            <div class="panel-body">
                <div>
                    <div class="search_selfAdaptionLeft">
                        <div>
                            <div class="input-group">
                                <input data-col="kpiName" type="text" class="form-control" placeholder="指标名称">
                            </div>
                            <div class="input-group">
                                <input data-col="kpiGroupName" type="text" class="form-control"
                                       placeholder="指标组名称（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right kpiGroupSelector"></ul>
                            </div>
                            <div class="input-group">
                                <input data-col="fetchType" type="text" class="form-control fetchTypeInput"
                                       placeholder="取数方式（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right kpiFetchTypeSelector">
                                    <li data-id="0"><a>数据源</a></li>
                                    <li data-id="1"><a>接口</a></li>
                                    <li data-id="2"><a>输入指标</a></li>
                                </ul>
                            </div>
                            <div class="input-group">
                                <input data-col="kpiType" type="text" class="form-control kpiTypeInput"
                                       placeholder="指标类型（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right kpiTypeSelector">
                                    <li data-id="1"><a>字符串</a></li>
                                    <li data-id="2"><a>整型</a></li>
                                    <li data-id="4"><a>浮点型</a></li>
                                    <li data-id="6"><a>高精度小数</a></li>
                                    <li data-id="7"><a>长整型</a></li>
                                    <li data-id="8"><a>日期</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="search_selfAdaptionRight">
                        <button table-id="10" class="searchBtn btn btn-primary" type="button">搜索</button>
                    </div>
                </div>
                <table table-id="10" class="dataLevelTable" id="kpiTable"></table>
            </div>
        </div>

        <!--指标组权限管理-->
        <div class="panel authorityMgrEle">
            <div class="panel-heading">
                <span><i class="icon icon-cog"> </i>指标组权限管理</span>
                <span grant-type="14" class="authorityMgrEle_saveButton checkAuth-update"
                      type="button">
                            <i class="icon icon-save"> </i>保存
                        </span>
            </div>
            <div class="panel-body">
                <div>
                    <div class="search_selfAdaptionLeft">
                        <div>
                            <div class="input-group">
                                <input data-col="kpiGroupName" type="text" class="form-control"
                                       placeholder="指标组名称（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right kpiGroupSelector"></ul>
                            </div>
                        </div>
                    </div>
                    <div class="search_selfAdaptionRight">
                        <button table-id="14" class="searchBtn btn btn-primary" type="button">搜索</button>
                    </div>
                </div>
                <table table-id="14" class="dataLevelTable" id="kpiGroupTable"></table>
            </div>
        </div>

        <!--公共规则集权限管理-->
        <div class="panel authorityMgrEle">
            <div class="panel-heading">
                <span><i class="icon icon-cube"> </i>公共规则集权限管理</span>
                <span grant-type="6"
                      class="authorityMgrEle_saveButton checkAuth-update"
                      type="button">
                            <i class="icon icon-save"> </i>保存
                        </span>
            </div>
            <div class="panel-body">
                <div>
                    <div class="search_selfAdaptionLeft">
                        <div>
                            <div class="input-group">
                                <input data-col="ruleSetGroupName" type="text" class="form-control"
                                       placeholder="规则集组名称（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right ruleSetGroupSelector"></ul>
                            </div>
                            <div class="input-group">
                                <input data-col="ruleSetName" type="text" class="form-control" placeholder="规则集名称">
                            </div>
                        </div>
                    </div>
                    <div class="search_selfAdaptionRight">
                        <button table-id="6" class="searchBtn btn btn-primary" type="button">搜索</button>
                    </div>
                </div>
                <table table-id="6" class="dataLevelTable" id="ruleSetTable"></table>
            </div>
        </div>

        <!--规则集组权限管理-->
        <div class="panel authorityMgrEle">
            <div class="panel-heading">
                <span><i class="icon icon-cube"> </i>规则集组权限管理</span>
                <span grant-type="15"
                      class="authorityMgrEle_saveButton checkAuth-update"
                      type="button">
                            <i class="icon icon-save"> </i>保存
                        </span>
            </div>
            <div class="panel-body">
                <div>
                    <div class="search_selfAdaptionLeft">
                        <div>
                            <div class="input-group">
                                <input data-col="ruleSetGroupName" type="text" class="form-control"
                                       placeholder="规则集组名称（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right ruleSetGroupSelector"></ul>
                            </div>
                        </div>
                    </div>
                    <div class="search_selfAdaptionRight">
                        <button table-id="15" class="searchBtn btn btn-primary" type="button">搜索</button>
                    </div>
                </div>
                <table table-id="15" class="dataLevelTable" id="ruleSetGroupTable"></table>
            </div>
        </div>

        <!--公共模型权限管理-->
        <div class="panel authorityMgrEle">
            <div class="panel-heading">
                <span><i class="icon icon-cube"> </i>公共模型权限管理</span>
                <span grant-type="7"
                      class="authorityMgrEle_saveButton checkAuth-update"
                      type="button">
                            <i class="icon icon-save"> </i>保存
                        </span>
            </div>
            <div class="panel-body">
                <div>
                    <div class="search_selfAdaptionLeft">
                        <div>
                            <div class="input-group">
                                <input data-col="modelGroupName" type="text" class="form-control"
                                       placeholder="模型组名称（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right modelGroupSelector"></ul>
                            </div>
                            <div class="input-group">
                                <input data-col="ruleType" type="text" class="form-control ruleTypeInput"
                                       placeholder="模型类型（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right ruleTypeSelector">
                                    <li data-id="1"><a>规则模型</a></li>
                                    <li data-id="0"><a>评分模型</a></li>
                                </ul>
                            </div>
                            <div class="input-group">
                                <input data-col="moduleName" type="text" class="form-control" placeholder="模型名称">
                            </div>
                        </div>
                    </div>
                    <div class="search_selfAdaptionRight">
                        <button table-id="7" class="searchBtn btn btn-primary" type="button">搜索</button>
                    </div>
                </div>
                <table table-id="7" class="dataLevelTable" id="modelBaseTable"></table>
            </div>
        </div>

        <!--产品权限管理-->
        <div class="panel authorityMgrEle">
            <div class="panel-heading">
                <span><i class="icon icon-cube"> </i>产品权限管理</span>
                <span grant-type="16"
                      class="authorityMgrEle_saveButton checkAuth-update"
                      type="button">
                            <i class="icon icon-save"> </i>保存
                        </span>
            </div>
            <div class="panel-body">
                <div>
                    <div class="search_selfAdaptionLeft">
                        <div>
                            <div class="input-group">
                                <input data-col="modelGroupName" type="text" class="form-control"
                                       placeholder="产品名称（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right modelGroupSelector"></ul>
                            </div>
                        </div>
                    </div>
                    <div class="search_selfAdaptionRight">
                        <button table-id="16" class="searchBtn btn btn-primary" type="button">搜索</button>
                    </div>
                </div>
                <table table-id="16" class="dataLevelTable" id="modelGroupTable"></table>
            </div>
        </div>

        <!--场景权限管理-->
        <div class="panel authorityMgrEle">
            <div class="panel-heading">
                <span><i class="icon icon-folder-close"> </i>场景权限管理</span>
                <span grant-type="11"
                      class="authorityMgrEle_saveButton checkAuth-update"
                      type="button">
                            <i class="icon icon-save"> </i>保存
                        </span>
            </div>
            <div class="panel-body">

                <table table-id="11" class="dataLevelTable" id="folderTable"></table>
            </div>
        </div>

        <!--模型权限管理-->
        <div class="panel authorityMgrEle">
            <div class="panel-heading">
                <span><i class="icon icon-cube-alt"> </i>模型权限管理</span>
                <span grant-type="3"
                      class="authorityMgrEle_saveButton checkAuth-update"
                      type="button">
                            <i class="icon icon-save"> </i>保存
                        </span>
            </div>
            <div class="panel-body">
                <div>
                    <div class="search_selfAdaptionLeft">
                        <div>
                            <div class="input-group">
                                <input data-col="folderName" type="text" class="form-control"
                                       placeholder="场景名称（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right folderSelector"></ul>
                            </div>
                            <div class="input-group">
                                <input data-col="ruleType" type="text" class="form-control ruleTypeInput"
                                       placeholder="模型类型（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right ruleTypeSelector">
                                    <li data-id="1"><a>规则模型</a></li>
                                    <li data-id="0"><a>评分模型</a></li>
                                </ul>
                            </div>
                            <div class="input-group">
                                <input data-col="moduleName" type="text" class="form-control" placeholder="模型名称">
                            </div>
                        </div>
                    </div>
                    <div class="search_selfAdaptionRight">
                        <button table-id="3" class="searchBtn btn btn-primary" type="button">搜索</button>
                    </div>
                </div>
                <table table-id="3" class="dataLevelTable" id="ruleTable"></table>
            </div>
        </div>

        <!--元数据权限管理-->
        <div class="panel authorityMgrEle">
            <div class="panel-heading">
                <span><i class="icon icon-table"> </i>元数据权限管理</span>
                <span grant-type="2" class="authorityMgrEle_saveButton checkAuth-update"
                      type="button">
                            <i class="icon icon-save"> </i>保存
                        </span>
            </div>
            <div class="panel-body">
                <div>
                    <div class="search_selfAdaptionLeft">
                        <div>
                            <div class="input-group">
                                <input data-col="folderName" type="text" class="form-control"
                                       placeholder="场景名称（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right folderSelector"></ul>
                            </div>
                            <div class="input-group">
                                <input data-col="dbAlias" type="text" class="form-control" placeholder="库名">
                            </div>
                            <div class="input-group">
                                <input data-col="tableName" type="text" class="form-control" placeholder="表名">
                            </div>
                        </div>
                    </div>
                    <div class="search_selfAdaptionRight">
                        <button table-id="2" class="searchBtn btn btn-primary" type="button">搜索</button>
                    </div>
                </div>
                <table table-id="2" class="dataLevelTable" id="dsTable"></table>
            </div>
        </div>

        <!--离线任务权限管理-->
        <div class="panel authorityMgrEle taskPanel">
            <div class="panel-heading">
                <span><i class="icon icon-tasks"> </i>离线任务权限管理</span>
                <span grant-type="9" class="authorityMgrEle_saveButton checkAuth-update"
                      type="button">
                    <i class="icon icon-save"> </i>保存
                </span>
            </div>
            <div class="panel-body">
                <div>
                    <div class="search_selfAdaptionLeft">
                        <div>
                            <div class="input-group">
                                <input data-col="taskName" type="text" class="form-control" placeholder="任务名称">
                            </div>
                            <div class="input-group">
                                <input data-col="packageName" type="text" class="form-control" placeholder="场景名称（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down "></i>
                                </label>
                                <ul class="dropdown-menu pull-right folderSelector"></ul>
                            </div>
                            <div class="input-group">
                                <input data-col="ruleName" type="text" class="form-control ruleNameInput"
                                       placeholder="模型名称（请选择）">
                                <label class="input-control-icon-right" data-toggle="dropdown">
                                    <i class="icon icon-caret-down"></i>
                                </label>
                                <ul class="dropdown-menu pull-right ruleNameSelector"></ul>
                            </div>
                            <!-- <div class="input-group">
                                 <input data-col="ruleVersion" type="text" class="form-control ruleVersionInput"
                                        placeholder="版本（请选择）">
                                 <label class="input-control-icon-right" data-toggle="dropdown">
                                     <i class="icon icon-caret-down"></i>
                                 </label>
                                 <ul class="dropdown-menu pull-right ruleVersionSelector"></ul>
                             </div>-->
                        </div>
                    </div>
                    <div class="search_selfAdaptionRight">
                        <button table-id="9" class="searchBtn btn btn-primary" type="button">搜索</button>
                    </div>
                </div>
                <table table-id="9" class="dataLevelTable" id="taskTable"></table>
            </div>
        </div>

    </div>
</div>
<#include "/pages/common/loading.html">